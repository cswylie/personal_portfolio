### README

This repository consists of **3** main program files and **7** supporting files, including the Makefile.

The first is the file **Makefile**, and this file will create an executable *-o* files of keygen.c, encrypt.c, decrypt.c, rsa.c, numtheory.c, and randstate.c within the directory where the files are stored. Makefile will delete and remake the .o files each time the executable is run. In additon, it will create the executable with the compiler clang with the -Ofast compiler for efficiency.

The other **6** required supporting files are really **3** *.c* files, each with their own *.h* header file. These **3** supporting files are rsa.c, numtheory.c, and randstate.c. Each *.c* file contains the base code for multiple functions accesible in the main programs through their respective header *.h* files. *rsa.c* contains functions related to creating public and private keys, encrypting and decrypting files, and signing verifying signatures from the user. *numtheory.c* contains coded representations of mathematic processes, such as gcd, power modulus, and modular inverse. *randstate.c* simply initialzies a state and seed for use in the random number generator functions in the *3* main files.

The **3** main files, **keygen.c**, **encrypt.c**, and **decrypt.c**, all work together to produce ssh keys capable of encrypting and decrypting files. 

 **keygen.c** generates public and private keys for use in encrypting and decrypting files. It generates these keys and stores them in respectie files rsa.pub and rsa.priv. These files are accesses by both *encrypt.c* and *decrypt.c* as a way of encrypting/decrypting passed files. 
*keygen.c* takes these command line options (which can be accessed with *-h*) for generating public and private keys:
- **s** <seed>   : Use <seed> as the random number seed. Default: time()
- **b** <bits>   : Public modulus n must have at least <bits> bits. Default: 1024
- **i** <iters>  : Run <iters> Miller-Rabin iterations for primality testing. Default: 50
- **n** <pbfile> : Public key file is <pbfile>. Default: rsa.pub
- **d** <pvfile> : Private key file is <pvfile>. Default: rsa.priv
- **v**          : Enable verbose output.
- **h**          : Display program synopsis and usage.

**encrypt.c** encrypts an infile and outputs it into an outfile. That outfile can then be accessed as an infile by decrypt to be decrypted. *encrpyt.c* also accesses the public key generated by *keygen.c*.
*encrypt.c* takes these command line options (which can be accessed with *-h*) for encrypting files:
- **i** <infile> : Read input from <infile>. Default: standard input.
- **o** <outfile>: Write output to <outfile>. Default: standard output.
- **n** <keyfile>: Public key is in <keyfile>. Default: rsa.pub.
- **v**          : Enable verbose output.
- **h**          : Display program synopsis and usage.

**decrypt.c** decrypts an infile and outputs it into an outfile, which is the original infile of *encrypt.c*. 
*decrypt.c* takes the following command line options (which can be accessed with *-h*) for decrypting files:
- **i** <infile> : Read input from <infile>. Default: standard input.
- **o** <outfile>: Write output to <outfile>. Default: standard output.
- **n** <keyfile>: Private key is in <keyfile>. Default: rsa.priv.
- **v**          : Enable verbose output.
- **h**          : Display program synopsis and usage.

The standard infile for *encrypt.c* and *decrypt.c* is stdin, and the standard outfile is stdout.
In addition, **verbose output** prints information about each of the variables used in each respective program and their bits. 

To run the three main files, simple type *make* or *make* and the respective programs name with the ".c". Exectuable files for all *.c* files will then be made in the repository where the code is stored. To run the executable, type "./program_name" into the command line, and the code will run.  

This repository also contains a **DESIGN** file for the code, and a **WRITEUP** to discuss certain aspects of the code. 

**keygen.c** will sometimes take longer time to generate large public and private keys. At 4096 bits, it can sometimes take about 35-45 seconds to generate the keys. 

